(window.webpackJsonptodolist=window.webpackJsonptodolist||[]).push([[0],{109:function(e){e.exports=JSON.parse('{"language":"\u4e2d\u6587","add_task":"\u65b0\u589e\u5de5\u4f5c","sort_date":"\u4f9d\u65e5\u671f\u6392\u5e8f","form_input_title":"\u8f38\u5165\u6a19\u984c","form_input_content":"\u8f38\u5165\u8a73\u7d30\u5167\u5bb9","form_input_date":"\u65b0\u66fe\u65e5\u671f","item_remove_tooltip":"\u522a\u9664","item_edit_item_tooltip":"\u7de8\u8f2f\u9805\u76ee"}')},110:function(e){e.exports=JSON.parse('{"language":"English","add_task":"Add Task","sort_date":"Sort by Date","form_input_title":"Enter Title","form_input_content":"Enter Content","form_input_date":"Add Date","item_remove_tooltip":"Remove","item_edit_item_tooltip":"Edit Item"}')},121:function(e,t,n){e.exports=n(205)},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},192:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(7),c=n.n(a),i=(n(126),n(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(14),u=(n(128),n(22));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={zh_tw:n(109),en:n(110)},p=function(e){return function(t){return f[e][t]||t}},O={langCode:"zh_tw",translate:p("zh_tw")};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=JSON.parse(localStorage.getItem("themeMode"))||{darkMode:!1},v=n(37);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={todoList:[],option:{SortState:!0}},I=JSON.parse(localStorage.getItem("todo"));function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}var w=function(e){var t=Object.keys(e),n={};return t.forEach(function(t){var o=e[t](void 0,{type:""});if("undefined"===o)throw new Error("".concat(t," does not return state."));n[t]=o}),function(o,r){return r&&t.forEach(function(t){var o=n[t];n[t]=e[t](o,r)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n)}}({theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DARK_MODE":return g({},e,{darkMode:!e.darkMode});default:return e}},todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I||y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return j({},e,{todoList:[t.addTodoListItem].concat(Object(v.a)(e.todoList))});case"REMOVE_ITEM":var n=Object(v.a)(e.todoList);return n.splice(t.removeItem,1),j({},e,{todoList:n});case"DONE_ITEM":var o=Object(v.a)(e.todoList),r=o[t.doneItem];return o.splice(t.doneItem,1),r.done=!r.done,r.done?o.push(r):o.unshift(r),j({},e,{todoList:o});case"EDIT_ITEM":var a=Object(v.a)(e.todoList),c=a.findIndex(function(e,n){return n===t.editIndex}),i=[].concat(Object(v.a)(a.slice(0,c)),[t.editItem],Object(v.a)(a.slice(c+1)));return j({},e,{todoList:i});case"SORT_ITEM_BY_DATE":var l=Object(v.a)(e.todoList);e.option.SortState=!e.option.SortState;var s=l.sort(function(t,n){var o=Number(t.date.replace(new RegExp("-","g"),"")),r=Number(n.date.replace(new RegExp("-","g"),""));return e.option.SortState?o-r:r-o});return j({},e,{todoList:s});default:return e}},i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANGUAGE":return m({},e,{langCode:t.langCode,translate:p(t.langCode)});default:return m({},e)}}}),k=Object(o.createContext)(),S=(n(129),n(9)),C=n.n(S),_=n(206),T=function(e){var t=Object(o.useContext)(k),n=Object(s.a)(t,1)[0];return r.a.createElement(_.a,{style:{backgroundColor:"#0f1114"},checkedChildren:"Light",unCheckedChildren:"Dark",defaultChecked:!n.theme.darkMode,onChange:e.onChange})},P=function(){var e=Object(o.useContext)(k),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)(function(){localStorage.setItem("themeMode",JSON.stringify(n.theme))},[n.theme]),r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"App-header-Item"},r.a.createElement("h2",null,"Tasks"),r.a.createElement("div",{className:"App-header-date"},C()().format("YYYY-MM-DD"))),r.a.createElement("div",{className:"App-header-Item"},r.a.createElement("iframe",{title:"github-todolist",src:"https://ghbtns.com/github-btn.html?user=destroymayor&repo=todolist&type=star&count=true",frameBorder:"0",scrolling:"0",width:"80px",height:"20px"}),r.a.createElement(T,{onChange:function(){return a({type:"DARK_MODE"})}})))},N=n(208),L=(n(178),n(179),n(117)),M=n.n(L),x=n(207),A=function(e){var t=Object(o.useContext)(k),n=Object(s.a)(t,1)[0],a=n.theme.darkMode?"todoList-form-item-date-dark":"todoList-form-item-date-light",c=n.theme.darkMode?"ant-calendar-panel-dark":"ant-calendar-panel-light";return r.a.createElement(x.a,Object.assign({},e,{allowClear:!1,showToday:!1,className:"".concat(a),locale:M.a,format:"YYYY-MM-DD",placeholder:"\u65b0\u589e\u65e5\u671f/\u6642\u9593",dropdownClassName:c,style:e.styles,value:void 0!==e.value?C()(e.value,"YYYY-MM-DD"):void 0,onChange:function(t,n){return e.onChange(n)}}))},Y=n(209),R=Y.a.TextArea,U=function(e){var t=Object(o.useContext)(k),n=Object(s.a)(t,1)[0],a="".concat(n.theme.darkMode?"dark":"light"),c="".concat(n.theme.darkMode?"dark-font":"light-font");return r.a.createElement(Y.a,Object.assign({},e,{className:"".concat(e.className," ").concat(a," ").concat(c," "),ref:e.refs}))},B=function(e){var t=Object(o.useContext)(k),n=Object(s.a)(t,1)[0],a="".concat(n.theme.darkMode?"dark":"light"),c="".concat(n.theme.darkMode?"dark-font":"light-font");return r.a.createElement(R,Object.assign({},e,{className:"".concat(e.className," ").concat(a," ").concat(c)}))},F=n(72),J=r.a.memo(function(e){var t=Object(o.useContext)(k),n=Object(s.a)(t,1)[0],a="".concat(n.theme.darkMode?"dark-button":"light-button");return r.a.createElement(F.a,Object.assign({},e,{className:"".concat(a," ").concat(e.classnames),style:e.styles,onClick:e.onClick}),e.children)}),W=n(57),V=W.a.Option,z=function(e){var t=Object(o.useContext)(k),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(o.useCallback)(function(e){return c({type:"SET_LANGUAGE",langCode:e})},[c]);return r.a.createElement(W.a,{defaultValue:a.i18n.translate("language"),className:e.classnames,onSelect:i},r.a.createElement(V,{value:"zh_tw"},"\u4e2d\u6587"),r.a.createElement(V,{value:"en"},"English"))},G=function(e){var t=Object(o.useContext)(k),n=Object(s.a)(t,1)[0];return r.a.createElement("div",{className:"todoForm-editItem"},r.a.createElement(J,{ghost:!0,classnames:"todoForm-editItem-addBtn",icon:"plus",onClick:e.TodoListAddOnClick},n.i18n.translate("add_task")),r.a.createElement(J,{ghost:!0,classnames:"todoForm-editItem-menu",icon:e.sortStateIcon,onClick:e.TodoListSortOnClick},n.i18n.translate("sort_date")),r.a.createElement("div",null,"\u8a9e\u8a00",r.a.createElement(z,{classnames:"todoForm-editItem-languageSelect"})))};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=function(e,t){switch(t.type){case"INPUT_TITLE":return $({},e,{todoInput:$({},e.todoInput,{title:t.inputTitle})});case"INPUT_CONTENT":return $({},e,{todoInput:$({},e.todoInput,{content:t.inputContent})});case"INPUT_DATE":return $({},e,{todoInput:$({},e.todoInput,{date:t.inputDate})});case"INPUT_CLEAR":return $({},e,{todoInput:$({},e.todoInput,{title:"",content:"",date:"",done:!1})});default:return e}},H=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(o.useContext)(k),l=Object(s.a)(i,2),u=l[0],d=l[1],m=Object(o.useReducer)(q,{todoInput:{title:"",content:"",date:"",done:!1}}),f=Object(s.a)(m,2),p=f[0],O=f[1],b=Object(o.useRef)(),g=Object(o.useCallback)(function(t){t.preventDefault(),p.todoInput&&(e.todoItemValue(p.todoInput),b.current.focus(),O({type:"INPUT_CLEAR"}))},[p.todoInput,e]);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement("form",{className:"todoList-form",onSubmit:g},r.a.createElement("div",{className:"todoList-form-item"},r.a.createElement(J,{ghost:!0,classnames:"todoForm-closeBtn",icon:"close",onClick:function(){return c(!1)}})),r.a.createElement("div",{className:"todoList-form-item"},r.a.createElement(U,{className:"todoList-input",refs:b,onChange:function(e){return O({type:"INPUT_TITLE",inputTitle:e.target.value})},value:p.todoInput.title,placeholder:u.i18n.translate("form_input_title")}),r.a.createElement(B,{rows:4,placeholder:u.i18n.translate("form_input_content"),onChange:function(e){return O({type:"INPUT_CONTENT",inputContent:e.target.value})},value:p.todoInput.content}),r.a.createElement(A,{value:""!==p.todoInput.date?p.todoInput.date:void 0,onChange:function(e){return O({type:"INPUT_DATE",inputDate:e})}}),r.a.createElement(J,{ghost:!1,htmlType:"submit",disabled:""===p.todoInput.title,classnames:"todoForm-addBtn",icon:"plus"},u.i18n.translate("add_task")))):r.a.createElement(G,{TodoListAddOnClick:function(){return c(!0)},TodoListSortOnClick:function(){return d({type:"SORT_ITEM_BY_DATE"})},sortStateIcon:u.todo.option.SortState?"sort-descending":"sort-ascending"}))},Q=(n(192),n(210)),X=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(o.useContext)(k),l=Object(s.a)(i,1)[0],u="".concat(l.theme.darkMode?"dark-font":"light-font"),d=C()(e.todoItemDataSource.date).isAfter(C()().format("YYYY-MM-DD")),m="".concat(e.todoDoneState?"todoList-done":""," ").concat(u);return r.a.createElement("div",{className:"todoList-item-text ".concat(u," ").concat(m)},r.a.createElement("div",{className:"todoList-item-text-title"},e.todoItemDataSource.title),r.a.createElement("div",{className:"todoList-item-text-content"},e.todoItemDataSource.content),r.a.createElement("div",{className:"todoList-item-text-date"},""!==e.todoItemDataSource.date&&r.a.createElement(r.a.Fragment,null,a?r.a.createElement(A,{open:a,value:""===e.todoItemDataSource.date?void 0:e.todoItemDataSource.date,onChange:function(t){c(!a),e.editTodoItemDate(t)}}):r.a.createElement(J,{ghost:!!l.theme.darkMode,styles:{color:d?"#1a73e8":"#d93025"},icon:"calendar",onClick:function(){return c(!a)}},r.a.createElement("span",{className:"".concat(u," ").concat(m)},e.todoItemDataSource.date)))))},Z=function(e){return r.a.createElement("div",null,r.a.createElement(U,{className:"todoList-item-edit-component",value:e.todoItemDataSource.title,placeholder:"\u8f38\u5165\u6a19\u984c",onChange:function(t){return e.editTitle(t.target.value)}}),r.a.createElement(B,{className:"todoList-item-edit-component",value:e.todoItemDataSource.content,placeholder:"\u8f38\u5165\u8a73\u7d30\u5167\u5bb9",onChange:function(t){return e.editContent(t.target.value)}}),r.a.createElement(A,{value:""===e.todoItemDataSource.date?void 0:e.todoItemDataSource.date,onChange:function(t){return e.editDate(t)}}))};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ne=function(e){var t=Object(o.useState)(!0),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(o.useState)({title:"",content:"",date:"",done:!1}),l=Object(s.a)(i,2),u=l[0],d=l[1],m=Object(o.useContext)(k),f=Object(s.a)(m,1)[0],p="".concat(f.theme.darkMode?"dark-todoItem":"light-todoItem");Object(o.useEffect)(function(){d(e.todoItemDataSource)},[e.todoItemDataSource]);var O=function(){c(!a),e.editTodoItemText(u)};return r.a.createElement(N.a.Item,{className:p},r.a.createElement("div",{className:"todoList-item"},r.a.createElement(J,{ghost:!0,classnames:"todoList-item-ctrl",styles:{color:e.todoItemDataSource.done?"#1a73e8":"#aaaaaa"},onClick:a?e.markTodoDone:O,icon:"check"}),a?r.a.createElement(X,{todoDoneState:e.todoDoneState,todoItemDataSource:e.todoItemDataSource,editTodoItemDate:function(t){return e.editTodoItemText(te({},e.todoItemDataSource,{date:t}))}}):r.a.createElement(Z,{todoItemDataSource:u,editTitle:function(e){return d(function(t){return te({},t,{title:e})})},editContent:function(e){return d(function(t){return te({},t,{content:e})})},editDate:function(e){return d(function(t){return te({},t,{date:e})})}})),r.a.createElement("div",{className:"todoList-ctrl"},a&&r.a.createElement(Q.a,{title:f.i18n.translate("item_edit_item_tooltip"),placement:"bottom"},r.a.createElement(J,{ghost:!0,classnames:"todoList-item-ctrl",onClick:O,icon:"edit"})),r.a.createElement(Q.a,{title:f.i18n.translate("item_remove_tooltip"),placement:"bottom"},r.a.createElement(J,{ghost:!0,classnames:"todoList-item-ctrl",onClick:e.removeTodoItem,icon:"delete"}))))},oe=function(){var e=Object(o.useContext)(k),t=Object(s.a)(e,2),n=t[0],a=t[1];Object(o.useEffect)(function(){localStorage.setItem("todo",JSON.stringify(n.todo))},[n.todo]);var c=Object(o.useCallback)(function(e){return a({type:"ADD_ITEM",addTodoListItem:e})},[a]),i=Object(o.useCallback)(function(e){return a({type:"DONE_ITEM",doneItem:e})},[a]),l=Object(o.useCallback)(function(e){return a({type:"REMOVE_ITEM",removeItem:e})},[a]),u=Object(o.useCallback)(function(e,t){return a({type:"EDIT_ITEM",editIndex:e,editItem:t})},[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{todoItemValue:function(e){return c(e)}}),r.a.createElement(N.a,{bordered:!0,locale:{emptyText:"\u76ee\u524d\u7121\u4ee3\u8fa6\u4e8b\u9805"},dataSource:n.todo.todoList,renderItem:function(e,t){return r.a.createElement(ne,{todoDoneState:e.done,markTodoDone:function(){return i(t)},removeTodoItem:function(){return l(t)},editTodoItemText:function(e){return u(t,e)},todoItemDataSource:e,key:t})}}))},re=function(){var e=Object(o.useContext)(k),t=Object(s.a)(e,1)[0],n="".concat(t.theme.darkMode?"dark":"light");return Object(o.useEffect)(function(){document.getElementById("body").className=n},[n]),r.a.createElement("div",{className:"App ".concat(n)},r.a.createElement(P,null),r.a.createElement(oe,null))},ae=w();c.a.render(r.a.createElement(function(){var e=Object(o.useReducer)(w,ae);return r.a.createElement(k.Provider,{value:e},r.a.createElement(re,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");i?(!function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):l(t,e)})}}()}},[[121,1,2]]]);
//# sourceMappingURL=main.2c065736.chunk.js.map