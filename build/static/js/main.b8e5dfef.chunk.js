(window.webpackJsonptodolist=window.webpackJsonptodolist||[]).push([[0],{118:function(e,t,o){e.exports=o(202)},124:function(e,t,o){},125:function(e,t,o){},174:function(e,t,o){},175:function(e,t,o){},180:function(e,t,o){},201:function(e,t,o){},202:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),r=o(7),c=o.n(r),i=(o(123),o(124),o(22)),d=o(37),l=o(34);function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var m=function(e,t){switch(t.type){case"ADD_ITEM":return u({},e,{todoList:[t.addTodoListItem].concat(Object(d.a)(e.todoList))});case"REMOVE_ITEM":var o=Object(d.a)(e.todoList);return o.splice(t.removeItem,1),u({},e,{todoList:o});case"DONE_ITEM":var n=Object(d.a)(e.todoList),a=n[t.doneItem];return n.splice(t.doneItem,1),a.done=!a.done,a.done?n.push(a):n.unshift(a),u({},e,{todoList:n});case"EDIT_ITEM":var r=Object(d.a)(e.todoList),c=r.findIndex(function(e,o){return o===t.editIndex}),i=[].concat(Object(d.a)(r.slice(0,c)),[t.editItem],Object(d.a)(r.slice(c+1)));return u({},e,{todoList:i});case"SORT_ITEM_BY_DATE":var l=Object(d.a)(e.todoList);e.option.SortState=!e.option.SortState;var s=l.sort(function(t,o){var n=Number(t.date.replace(new RegExp("-","g"),"")),a=Number(o.date.replace(new RegExp("-","g"),""));return e.option.SortState?n-a:a-n});return u({},e,{todoList:s});default:return e}},p=Object(n.createContext)(),f={todoList:[],option:{SortState:!0}},O=JSON.parse(localStorage.getItem("todoList")),h=function(e){var t=e.children,o=Object(n.useReducer)(m,O||f),r=Object(i.a)(o,2),c=r[0],d=r[1];return Object(n.useEffect)(function(){localStorage.setItem("todoList",JSON.stringify(c))},[c]),a.a.createElement(p.Provider,{value:{todo:c,todoListDispatch:d}},t)};function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}var E=Object(n.createContext)(),g=function(e,t){switch(t.type){case"DARK_MODE":return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({},e,{darkMode:!e.darkMode});default:return e}},I=JSON.parse(localStorage.getItem("theme")),v=function(e){var t=e.children,o=Object(n.useReducer)(g,I||{darkMode:!1}),r=Object(i.a)(o,2),c=r[0],d=r[1];return Object(n.useEffect)(function(){localStorage.setItem("theme",JSON.stringify(c))},[c]),a.a.createElement(E.Provider,{value:{theme:c,DarkModeDispatch:d}},t)},j=(o(125),o(9)),y=o.n(j),D=o(203),T=function(e){var t=Object(n.useContext)(E).theme;return a.a.createElement(D.a,{style:{backgroundColor:"#0f1114"},checkedChildren:"Light",unCheckedChildren:"Dark",defaultChecked:!t.darkMode,onChange:e.onChange})},S=function(){var e=Object(n.useContext)(E).DarkModeDispatch;return a.a.createElement("header",{className:"App-header"},a.a.createElement("div",{className:"App-header-Item"},a.a.createElement("h2",null,"Tasks"),a.a.createElement("div",{className:"App-header-date"},y()().format("YYYY-MM-DD"))),a.a.createElement("div",{className:"App-header-Item"},a.a.createElement("iframe",{title:"github-todolist",src:"https://ghbtns.com/github-btn.html?user=destroymayor&repo=todolist&type=star&count=true",frameBorder:"0",scrolling:"0",width:"80px",height:"20px"}),a.a.createElement(T,{onChange:function(){return e({type:"DARK_MODE"})}})))},k=o(205),C=(o(174),o(175),o(114)),N=o.n(C),w=o(204),L=function(e){var t=Object(n.useContext)(E).theme,o=t.darkMode?"todoList-form-item-date-dark":"todoList-form-item-date-light",r=t.darkMode?"ant-calendar-panel-dark":"ant-calendar-panel-light";return a.a.createElement(w.a,Object.assign({},e,{allowClear:!1,showToday:!1,className:"".concat(o," ").concat(e.classNames),locale:N.a,format:"YYYY-MM-DD",placeholder:"\u65b0\u589e\u65e5\u671f/\u6642\u9593",dropdownClassName:r,style:e.styles,value:void 0!==e.value?y()(e.value,"YYYY-MM-DD"):void 0,onChange:function(t,o){return e.onChange(o)}}))},P=o(206),M=P.a.TextArea,x=function(e){var t=Object(n.useContext)(E).theme,o="".concat(t.darkMode?"dark":"light"),r="".concat(t.darkMode?"dark-font":"light-font");return a.a.createElement(P.a,{className:"".concat(e.classNames," ").concat(o," ").concat(r," "),ref:e.refs,value:e.value,placeholder:e.placeholder,onChange:e.onChange})},_=function(e){var t=Object(n.useContext)(E).theme,o="".concat(t.darkMode?"dark":"light"),r="".concat(t.darkMode?"dark-font":"light-font");return a.a.createElement(M,{className:"".concat(e.classNames," ").concat(o," ").concat(r),rows:e.rows,value:e.value,placeholder:e.placeholder,onChange:e.onChange})},A=o(71),Y=function(e){var t=Object(n.useContext)(E).theme,o="".concat(t.darkMode?"dark-button":"light-button");return a.a.createElement(A.a,{ghost:e.ghost,className:"".concat(e.classNames," ").concat(o," "),href:e.href,style:e.styles,icon:e.icon,onClick:e.onClick,htmlType:e.htmlType,type:e.type,disabled:e.disabled},e.children)},R=function(e){return a.a.createElement("div",{className:"todoForm-editItem"},a.a.createElement(Y,{ghost:!0,classNames:"todoForm-editItem-addBtn",icon:"plus",onClick:e.TodoListAddOnClick},"\u65b0\u589e\u5de5\u4f5c"),a.a.createElement(Y,{ghost:!0,classNames:"todoForm-editItem-menu",icon:e.sortStateIcon,onClick:e.TodoListSortOnClick},"\u4f9d\u65e5\u671f\u6392\u5e8f"))};function B(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function F(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?B(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):B(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var U=function(e,t){switch(t.type){case"INPUT_TITLE":return F({},e,{todoInput:F({},e.todoInput,{title:t.inputTitle})});case"INPUT_CONTENT":return F({},e,{todoInput:F({},e.todoInput,{content:t.inputContent})});case"INPUT_DATE":return F({},e,{todoInput:F({},e.todoInput,{date:t.inputDate})});case"INPUT_CLEAR":return F({},e,{todoInput:F({},e.todoInput,{title:"",content:"",date:"",done:!1})});default:return e}},J=function(e){var t=Object(n.useState)(!1),o=Object(i.a)(t,2),r=o[0],c=o[1],d=Object(n.useContext)(p),l=d.todo,s=d.todoListDispatch,u=Object(n.useReducer)(U,{todoInput:{title:"",content:"",date:"",done:!1}}),m=Object(i.a)(u,2),f=m[0],O=m[1],h=Object(n.useRef)(),b=Object(n.useCallback)(function(t){t.preventDefault(),f.todoInput&&(e.todoItemValue(f.todoInput),h.current.focus(),O({type:"INPUT_CLEAR"}))},[f.todoInput,e]);return a.a.createElement(a.a.Fragment,null,r?a.a.createElement("form",{className:"todoList-form",onSubmit:b},a.a.createElement("div",{className:"todoList-form-item"},a.a.createElement(Y,{ghost:!0,classNames:"todoForm-closeBtn",icon:"close",onClick:function(){return c(!1)}})),a.a.createElement("div",{className:"todoList-form-item"},a.a.createElement(x,{classNames:"todoList-input",refs:h,onChange:function(e){return O({type:"INPUT_TITLE",inputTitle:e.target.value})},value:f.todoInput.title,placeholder:"\u8f38\u5165\u6a19\u984c"}),a.a.createElement(_,{rows:4,placeholder:"\u8f38\u5165\u8a73\u7d30\u5167\u5bb9",onChange:function(e){return O({type:"INPUT_CONTENT",inputContent:e.target.value})},value:f.todoInput.content}),a.a.createElement(L,{value:""!==f.todoInput.date?f.todoInput.date:void 0,onChange:function(e){return O({type:"INPUT_DATE",inputDate:e})}}),a.a.createElement(Y,{ghost:!1,htmlType:"submit",disabled:""===f.todoInput.title,classNames:"todoForm-addBtn",icon:"plus"},"\u65b0\u589e\u5de5\u4f5c"))):a.a.createElement(R,{TodoListAddOnClick:function(){return c(!0)},TodoListSortOnClick:function(){return s({type:"SORT_ITEM_BY_DATE"})},sortStateIcon:l.option.SortState?"sort-descending":"sort-ascending"}))},V=(o(180),o(207)),K=function(e){var t=Object(n.useState)(!1),o=Object(i.a)(t,2),r=o[0],c=o[1],d=Object(n.useContext)(E).theme,l="".concat(d.darkMode?"dark-font":"light-font"),s=y()(e.todoItemDataSource.date).isAfter(y()().format("YYYY-MM-DD")),u="".concat(e.todoDoneState?"todoList-done":""," ").concat(l);return a.a.createElement("div",{className:"todoList-item-text ".concat(l," ").concat(u)},a.a.createElement("div",{className:"todoList-item-text-title"},e.todoItemDataSource.title),a.a.createElement("div",{className:"todoList-item-text-content"},e.todoItemDataSource.content),a.a.createElement("div",{className:"todoList-item-text-date"},""!==e.todoItemDataSource.date&&a.a.createElement(a.a.Fragment,null,r?a.a.createElement(L,{open:r,value:""===e.todoItemDataSource.date?void 0:e.todoItemDataSource.date,onChange:function(t){c(!r),e.editTodoItemDate(t)}}):a.a.createElement(Y,{ghost:!!d.darkMode,styles:{color:s?"#1a73e8":"#d93025"},icon:"calendar",onClick:function(){return c(!r)}},a.a.createElement("span",{className:"".concat(l," ").concat(u)},e.todoItemDataSource.date)))))},W=function(e){return a.a.createElement("div",null,a.a.createElement(x,{classNames:"todoList-item-edit-component",value:e.todoItemDataSource.title,placeholder:"\u8f38\u5165\u6a19\u984c",onChange:function(t){return e.editTitle(t.target.value)}}),a.a.createElement(_,{classNames:"todoList-item-edit-component",value:e.todoItemDataSource.content,placeholder:"\u8f38\u5165\u8a73\u7d30\u5167\u5bb9",onChange:function(t){return e.editContent(t.target.value)}}),a.a.createElement(L,{value:""===e.todoItemDataSource.date?void 0:e.todoItemDataSource.date,onChange:function(t){return e.editDate(t)}}))};function $(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function q(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?$(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):$(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var z=function(e){var t=Object(n.useState)(!0),o=Object(i.a)(t,2),r=o[0],c=o[1],d=Object(n.useState)({title:"",content:"",date:"",done:!1}),l=Object(i.a)(d,2),s=l[0],u=l[1],m=Object(n.useContext)(E).theme,p="".concat(m.darkMode?"dark-todoItem":"light-todoItem");Object(n.useEffect)(function(){u(e.todoItemDataSource)},[e.todoItemDataSource]);var f=function(){c(!r),e.editTodoItemText(s)};return a.a.createElement(k.a.Item,{className:p},a.a.createElement("div",{className:"todoList-item"},a.a.createElement(Y,{ghost:!0,classNames:"todoList-item-ctrl",styles:{color:e.todoItemDataSource.done?"#1a73e8":"#aaaaaa"},onClick:r?e.markTodoDone:f,icon:"check"}),r?a.a.createElement(K,{todoDoneState:e.todoDoneState,todoItemDataSource:e.todoItemDataSource,editTodoItemDate:function(t){return e.editTodoItemText(q({},e.todoItemDataSource,{date:t}))}}):a.a.createElement(W,{todoItemDataSource:s,editTitle:function(e){return u(function(t){return q({},t,{title:e})})},editContent:function(e){return u(function(t){return q({},t,{content:e})})},editDate:function(e){return u(function(t){return q({},t,{date:e})})}})),a.a.createElement("div",{className:"todoList-ctrl"},r&&a.a.createElement(V.a,{title:"\u7de8\u8f2f\u8a73\u7d30\u8cc7\u8a0a",placement:"bottom"},a.a.createElement(Y,{ghost:!0,classNames:"todoList-item-ctrl",onClick:f,icon:"edit"})),a.a.createElement(V.a,{title:"\u522a\u9664",placement:"bottom"},a.a.createElement(Y,{ghost:!0,classNames:"todoList-item-ctrl",onClick:e.removeTodoItem,icon:"delete"}))))},G=function(){var e=Object(n.useContext)(p),t=e.todo,o=e.todoListDispatch;return a.a.createElement(a.a.Fragment,null,a.a.createElement(J,{todoItemValue:function(e){return o({type:"ADD_ITEM",addTodoListItem:e})}}),a.a.createElement(k.a,{bordered:!0,locale:{emptyText:"\u76ee\u524d\u7121\u4ee3\u8fa6\u4e8b\u9805"},dataSource:t.todoList,renderItem:function(e,t){return a.a.createElement(z,{todoDoneState:e.done,markTodoDone:function(){return o({type:"DONE_ITEM",doneItem:t})},removeTodoItem:function(){return o({type:"REMOVE_ITEM",removeItem:t})},editTodoItemText:function(e){return o({type:"EDIT_ITEM",editIndex:t,editItem:e})},todoItemDataSource:e,key:t})}}))},H=function(){var e=Object(n.useContext)(E).theme,t="".concat(e.darkMode?"dark":"light");return Object(n.useEffect)(function(){document.getElementById("body").className=t},[t]),a.a.createElement("div",{className:"App ".concat(t)},a.a.createElement(S,null),a.a.createElement(h,null,a.a.createElement(G,null)))};o(201),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(function(){return a.a.createElement(v,null,a.a.createElement(H,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,1,2]]]);
//# sourceMappingURL=main.b8e5dfef.chunk.js.map