(window.webpackJsonptodolist=window.webpackJsonptodolist||[]).push([[0],{118:function(e,t,o){e.exports=o(202)},124:function(e,t,o){},125:function(e,t,o){},126:function(e,t,o){},175:function(e,t,o){},176:function(e,t,o){},181:function(e,t,o){},202:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),a=o(7),c=o.n(a),i=(o(123),o(124),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var d=o(14),l=(o(125),o(27));function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var f=JSON.parse(localStorage.getItem("themeMode"))||{darkMode:!1},p=o(37);function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var h={todoList:[],option:{SortState:!0}},g=JSON.parse(localStorage.getItem("test"));function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}var E=function(e){var t=Object.keys(e),o={};return t.forEach(function(t){var n=e[t](void 0,{type:""});if("undefined"===n)throw new Error("".concat(t," does not return state."));o[t]=n}),function(n,r){return r&&t.forEach(function(t){var n=o[t];o[t]=e[t](n,r)}),function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({},o)}}({theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DARK_MODE":return m({},e,{darkMode:!e.darkMode});default:return e}},todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g||h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return b({},e,{todoList:[t.addTodoListItem].concat(Object(p.a)(e.todoList))});case"REMOVE_ITEM":var o=Object(p.a)(e.todoList);return o.splice(t.removeItem,1),b({},e,{todoList:o});case"DONE_ITEM":var n=Object(p.a)(e.todoList),r=n[t.doneItem];return n.splice(t.doneItem,1),r.done=!r.done,r.done?n.push(r):n.unshift(r),b({},e,{todoList:n});case"EDIT_ITEM":var a=Object(p.a)(e.todoList),c=a.findIndex(function(e,o){return o===t.editIndex}),i=[].concat(Object(p.a)(a.slice(0,c)),[t.editItem],Object(p.a)(a.slice(c+1)));return b({},e,{todoList:i});case"SORT_ITEM_BY_DATE":var s=Object(p.a)(e.todoList);e.option.SortState=!e.option.SortState;var d=s.sort(function(t,o){var n=Number(t.date.replace(new RegExp("-","g"),"")),r=Number(o.date.replace(new RegExp("-","g"),""));return e.option.SortState?n-r:r-n});return b({},e,{todoList:d});default:return e}}}),j=Object(n.createContext)(),I=(o(126),o(9)),y=o.n(I),D=o(203),w=function(e){var t=Object(n.useContext)(j),o=Object(d.a)(t,1)[0];return r.a.createElement(D.a,{style:{backgroundColor:"#0f1114"},checkedChildren:"Light",unCheckedChildren:"Dark",defaultChecked:!o.theme.darkMode,onChange:e.onChange})},S=function(){var e=Object(n.useContext)(j),t=Object(d.a)(e,2),o=t[0],a=t[1];return Object(n.useEffect)(function(){localStorage.setItem("themeMode",JSON.stringify(o.theme))},[o.theme]),r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"App-header-Item"},r.a.createElement("h2",null,"Tasks"),r.a.createElement("div",{className:"App-header-date"},y()().format("YYYY-MM-DD"))),r.a.createElement("div",{className:"App-header-Item"},r.a.createElement("iframe",{title:"github-todolist",src:"https://ghbtns.com/github-btn.html?user=destroymayor&repo=todolist&type=star&count=true",frameBorder:"0",scrolling:"0",width:"80px",height:"20px"}),r.a.createElement(w,{onChange:function(){return a({type:"DARK_MODE"})}})))},k=o(205),T=(o(175),o(176),o(114)),C=o.n(T),P=o(204),N=function(e){var t=Object(n.useContext)(j),o=Object(d.a)(t,1)[0],a=o.theme.darkMode?"todoList-form-item-date-dark":"todoList-form-item-date-light",c=o.theme.darkMode?"ant-calendar-panel-dark":"ant-calendar-panel-light";return r.a.createElement(P.a,Object.assign({},e,{allowClear:!1,showToday:!1,className:"".concat(a),locale:C.a,format:"YYYY-MM-DD",placeholder:"\u65b0\u589e\u65e5\u671f/\u6642\u9593",dropdownClassName:c,style:e.styles,value:void 0!==e.value?y()(e.value,"YYYY-MM-DD"):void 0,onChange:function(t,o){return e.onChange(o)}}))},L=o(206),M=L.a.TextArea,x=function(e){var t=Object(n.useContext)(j),o=Object(d.a)(t,1)[0],a="".concat(o.theme.darkMode?"dark":"light"),c="".concat(o.theme.darkMode?"dark-font":"light-font");return r.a.createElement(L.a,Object.assign({},e,{className:"".concat(e.className," ").concat(a," ").concat(c," "),ref:e.refs}))},A=function(e){var t=Object(n.useContext)(j),o=Object(d.a)(t,1)[0],a="".concat(o.theme.darkMode?"dark":"light"),c="".concat(o.theme.darkMode?"dark-font":"light-font");return r.a.createElement(M,Object.assign({},e,{className:"".concat(e.className," ").concat(a," ").concat(c)}))},_=o(71),Y=function(e){var t=Object(n.useContext)(j),o=Object(d.a)(t,1)[0],a="".concat(o.theme.darkMode?"dark-button":"light-button");return r.a.createElement(_.a,Object.assign({},e,{className:"".concat(a," ").concat(e.classnames),style:e.styles,onClick:e.onClick}),e.children)},R=function(e){return r.a.createElement("div",{className:"todoForm-editItem"},r.a.createElement(Y,{ghost:!0,classnames:"todoForm-editItem-addBtn",icon:"plus",onClick:e.TodoListAddOnClick},"\u65b0\u589e\u5de5\u4f5c"),r.a.createElement(Y,{ghost:!0,classnames:"todoForm-editItem-menu",icon:e.sortStateIcon,onClick:e.TodoListSortOnClick},"\u4f9d\u65e5\u671f\u6392\u5e8f"))};function U(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function B(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?U(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):U(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var F=function(e,t){switch(t.type){case"INPUT_TITLE":return B({},e,{todoInput:B({},e.todoInput,{title:t.inputTitle})});case"INPUT_CONTENT":return B({},e,{todoInput:B({},e.todoInput,{content:t.inputContent})});case"INPUT_DATE":return B({},e,{todoInput:B({},e.todoInput,{date:t.inputDate})});case"INPUT_CLEAR":return B({},e,{todoInput:B({},e.todoInput,{title:"",content:"",date:"",done:!1})});default:return e}},W=function(e){var t=Object(n.useState)(!1),o=Object(d.a)(t,2),a=o[0],c=o[1],i=Object(n.useContext)(j),s=Object(d.a)(i,2),l=s[0],u=s[1],m=Object(n.useReducer)(F,{todoInput:{title:"",content:"",date:"",done:!1}}),f=Object(d.a)(m,2),p=f[0],O=f[1],b=Object(n.useRef)(),h=Object(n.useCallback)(function(t){t.preventDefault(),p.todoInput&&(e.todoItemValue(p.todoInput),b.current.focus(),O({type:"INPUT_CLEAR"}))},[p.todoInput,e]);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement("form",{className:"todoList-form",onSubmit:h},r.a.createElement("div",{className:"todoList-form-item"},r.a.createElement(Y,{ghost:!0,classnames:"todoForm-closeBtn",icon:"close",onClick:function(){return c(!1)}})),r.a.createElement("div",{className:"todoList-form-item"},r.a.createElement(x,{className:"todoList-input",refs:b,onChange:function(e){return O({type:"INPUT_TITLE",inputTitle:e.target.value})},value:p.todoInput.title,placeholder:"\u8f38\u5165\u6a19\u984c"}),r.a.createElement(A,{rows:4,placeholder:"\u8f38\u5165\u8a73\u7d30\u5167\u5bb9",onChange:function(e){return O({type:"INPUT_CONTENT",inputContent:e.target.value})},value:p.todoInput.content}),r.a.createElement(N,{value:""!==p.todoInput.date?p.todoInput.date:void 0,onChange:function(e){return O({type:"INPUT_DATE",inputDate:e})}}),r.a.createElement(Y,{ghost:!1,htmlType:"submit",disabled:""===p.todoInput.title,classnames:"todoForm-addBtn",icon:"plus"},"\u65b0\u589e\u5de5\u4f5c"))):r.a.createElement(R,{TodoListAddOnClick:function(){return c(!0)},TodoListSortOnClick:function(){return u({type:"SORT_ITEM_BY_DATE"})},sortStateIcon:l.todo.option.SortState?"sort-descending":"sort-ascending"}))},J=(o(181),o(207)),V=function(e){var t=Object(n.useState)(!1),o=Object(d.a)(t,2),a=o[0],c=o[1],i=Object(n.useContext)(j),s=Object(d.a)(i,1)[0],l="".concat(s.theme.darkMode?"dark-font":"light-font"),u=y()(e.todoItemDataSource.date).isAfter(y()().format("YYYY-MM-DD")),m="".concat(e.todoDoneState?"todoList-done":""," ").concat(l);return r.a.createElement("div",{className:"todoList-item-text ".concat(l," ").concat(m)},r.a.createElement("div",{className:"todoList-item-text-title"},e.todoItemDataSource.title),r.a.createElement("div",{className:"todoList-item-text-content"},e.todoItemDataSource.content),r.a.createElement("div",{className:"todoList-item-text-date"},""!==e.todoItemDataSource.date&&r.a.createElement(r.a.Fragment,null,a?r.a.createElement(N,{open:a,value:""===e.todoItemDataSource.date?void 0:e.todoItemDataSource.date,onChange:function(t){c(!a),e.editTodoItemDate(t)}}):r.a.createElement(Y,{ghost:!!s.theme.darkMode,styles:{color:u?"#1a73e8":"#d93025"},icon:"calendar",onClick:function(){return c(!a)}},r.a.createElement("span",{className:"".concat(l," ").concat(m)},e.todoItemDataSource.date)))))},K=function(e){return r.a.createElement("div",null,r.a.createElement(x,{className:"todoList-item-edit-component",value:e.todoItemDataSource.title,placeholder:"\u8f38\u5165\u6a19\u984c",onChange:function(t){return e.editTitle(t.target.value)}}),r.a.createElement(A,{className:"todoList-item-edit-component",value:e.todoItemDataSource.content,placeholder:"\u8f38\u5165\u8a73\u7d30\u5167\u5bb9",onChange:function(t){return e.editContent(t.target.value)}}),r.a.createElement(N,{value:""===e.todoItemDataSource.date?void 0:e.todoItemDataSource.date,onChange:function(t){return e.editDate(t)}}))};function $(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function q(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?$(o,!0).forEach(function(t){Object(l.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):$(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var z=function(e){var t=Object(n.useState)(!0),o=Object(d.a)(t,2),a=o[0],c=o[1],i=Object(n.useState)({title:"",content:"",date:"",done:!1}),s=Object(d.a)(i,2),l=s[0],u=s[1],m=Object(n.useContext)(j),f=Object(d.a)(m,1)[0],p="".concat(f.theme.darkMode?"dark-todoItem":"light-todoItem");Object(n.useEffect)(function(){u(e.todoItemDataSource)},[e.todoItemDataSource]);var O=function(){c(!a),e.editTodoItemText(l)};return r.a.createElement(k.a.Item,{className:p},r.a.createElement("div",{className:"todoList-item"},r.a.createElement(Y,{ghost:!0,classnames:"todoList-item-ctrl",styles:{color:e.todoItemDataSource.done?"#1a73e8":"#aaaaaa"},onClick:a?e.markTodoDone:O,icon:"check"}),a?r.a.createElement(V,{todoDoneState:e.todoDoneState,todoItemDataSource:e.todoItemDataSource,editTodoItemDate:function(t){return e.editTodoItemText(q({},e.todoItemDataSource,{date:t}))}}):r.a.createElement(K,{todoItemDataSource:l,editTitle:function(e){return u(function(t){return q({},t,{title:e})})},editContent:function(e){return u(function(t){return q({},t,{content:e})})},editDate:function(e){return u(function(t){return q({},t,{date:e})})}})),r.a.createElement("div",{className:"todoList-ctrl"},a&&r.a.createElement(J.a,{title:"\u7de8\u8f2f\u8a73\u7d30\u8cc7\u8a0a",placement:"bottom"},r.a.createElement(Y,{ghost:!0,classnames:"todoList-item-ctrl",onClick:O,icon:"edit"})),r.a.createElement(J.a,{title:"\u522a\u9664",placement:"bottom"},r.a.createElement(Y,{ghost:!0,classnames:"todoList-item-ctrl",onClick:e.removeTodoItem,icon:"delete"}))))},G=function(){var e=Object(n.useContext)(j),t=Object(d.a)(e,2),o=t[0],a=t[1];return Object(n.useEffect)(function(){localStorage.setItem("test",JSON.stringify(o.todo))},[o.todo]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{todoItemValue:function(e){return a({type:"ADD_ITEM",addTodoListItem:e})}}),r.a.createElement(k.a,{bordered:!0,locale:{emptyText:"\u76ee\u524d\u7121\u4ee3\u8fa6\u4e8b\u9805"},dataSource:o.todo.todoList,renderItem:function(e,t){return r.a.createElement(z,{todoDoneState:e.done,markTodoDone:function(){return a({type:"DONE_ITEM",doneItem:t})},removeTodoItem:function(){return a({type:"REMOVE_ITEM",removeItem:t})},editTodoItemText:function(e){return a({type:"EDIT_ITEM",editIndex:t,editItem:e})},todoItemDataSource:e,key:t})}}))},H=function(){var e=Object(n.useContext)(j),t=Object(d.a)(e,1)[0],o="".concat(t.theme.darkMode?"dark":"light");return Object(n.useEffect)(function(){document.getElementById("body").className=o},[o]),r.a.createElement("div",{className:"App ".concat(o)},r.a.createElement(S,null),r.a.createElement(G,null))},Q=E();c.a.render(r.a.createElement(function(){var e=Object(n.useReducer)(E,Q);return r.a.createElement(j.Provider,{value:e},r.a.createElement(H,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");i?(!function(e,t){fetch(e).then(function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):s(t,e)})}}()}},[[118,1,2]]]);
//# sourceMappingURL=main.f1e7c632.chunk.js.map